# Дымовые тесты

В YAxUnit реализована поддержка дымовых тестов.

:::info Разработка использует идеи и наработки следующих проектов
* [yaxunit-smoke](https://github.com/alexandr-yang/yaxunit-smoke) by [@alexandr-yang](https://github.com/alexandr-yang)
* [add](https://github.com/vanessa-opensource/add/tree)
:::

:::warning Черновая реализация
Реализация дымовых тестов может быть изменена.
:::

Возможности:

* [Тестирование открытия форм](opening-forms.md)

## Отчеты

### Allure отчеты

Smoke тесты полностью поддерживают формирование отчетов в формате Allure. Каждый smoke тест отображается как отдельный тест с уникальным названием, что обеспечивает:

- Детальный анализ результатов каждого теста
- Возможность фильтрации и группировки по различным критериям
- Сохранение структуры группировки по типам приложений
- Интеграцию с CI/CD системами

При формировании Allure отчета для модуля с smoke тестами (например, `ДТОткрытиеФорм`), каждый из 1754 тестов будет отображаться индивидуально, а не как один групповой тест.

### JUnit отчеты

Также поддерживается формирование отчетов в формате JUnit для интеграции с EDT и другими инструментами разработки.

## Запуск

Для запуска дымовых тестов необходимо:

1. Добавить расширение `smoke.cfe`
2. Создать файл настроек
3. Запустить 1С:Предприятие и открыть обработку "Юнит-тесты"
4. Загрузить настройки и перезагрузить тесты.
5. Запустить тесты.

## Файл настроек

Настройка для запуска/загрузки дымовых тестов открытия форм

```json title="Дымовые тесты.json"
{
    "filter": {
        "extensions": ["smoke"] // Загрузка тестов из расширения дымовых тестов
    },
    "showReport": true,
    // Настройка дымовых тестов
    "ДымовыеТесты": {
        "Использовать": true, // Включение дымовых тестов
        "ОткрытиеФорм": true  // Использование тестов открытия форм
    }
}
```

| Имя параметра  | Тип               | Значение по умолчанию | Описание                                                          |
|----------------|-------------------|-----------------------|-------------------------------------------------------------------|
| `Использовать` | `boolean`         | `false`               | Использование дымовых тестов                                      |
| `ОткрытиеФорм` | `Object\|boolean` | `false`               | [Настройка тестов открытия форм](opening-forms.md#настройки) |
