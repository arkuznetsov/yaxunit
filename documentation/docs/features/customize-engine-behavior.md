---
sidebar_position: 7
---

# Кастомизация движка YAxUnit

YAxUnit предоставляет широкие возможности для настройки и кастомизации поведения движка тестирования. Это позволяет адаптировать механизмы движка под конкретные потребности проекта.

## Основные способы кастомизации

### Подписка на события движка

Движок использует систему событий для управления различными аспектами своей работы. Вы можете подписаться на эти события для реализации собственной логики.

Подробнее о том, какие события имеются и как подключать обработчики, описано в отдельной [статье](events#подписка-на-события-движка).

### Полезные события

#### Инициализация

* `УстановитьПараметрыЗапускаПоУмолчанию(ПараметрыЗапуска)` - настройка [параметров запуска по умолчанию](/api/ЮТФабрика#параметрызапуска)
* `НастройкаОпцийДвижка(ОпцииДвижка)` - настройка [опций движка](/api/ЮТФабрика#опциидвижка)

#### ЗагрузкаТестов

* `ФильтрацияТестов_ПроверкаМодуля(МетаданныеМодуля, Отказ)` - фильтрация тестовых модулей

### Опции движка

Опции движка позволяют настраивать поведение движка без необходимости изменения исходного кода. Опции устанавливаются при инициализации движка и влияют на различные аспекты его работы.

Для настройки опций движка можно использовать событие `НастройкаОпцийДвижка(ОпцииДвижка)`.

#### Доступные опции движка

| Опция                                   | Тип    | Значение по умолчанию | Описание                                                                           |
|-----------------------------------------|--------|-----------------------|------------------------------------------------------------------------------------|
| `ОбменДаннымиЗагрузкаПриСозданииДанных` | Булево | `Ложь`                | Установка режима `ОбменДанными.Загрузка = Истина` при создании тестовых данных     |
| `ОтложенныйЗапускТестов`                | Булево | `Ложь`                | Отложенный запуск тестов после завершения полной инициализации информационной базы |

#### Пример установки опций движка

## Примеры кастомизации

### Включение транзакций по умолчанию

Создайте модуль в подсистеме `Тесты_ЮТПодключаемыеМодули -> Инициализация`:

```bsl title="ИнициализацияДвижка"
Процедура УстановитьПараметрыЗапускаПоУмолчанию(ПараметрыЗапуска) Экспорт
    ПараметрыЗапуска.settings.ВТранзакции = Истина;
КонецПроцедуры
```

### Настройка параметров движка

Создайте модуль в подсистеме `Тесты_ЮТПодключаемыеМодули -> Инициализация`:

```bsl title="ИнициализацияДвижка"
Процедура НастройкаОпцийДвижка(ОпцииДвижка) Экспорт
    ОпцииДвижка.ОбменДаннымиЗагрузкаПриСозданииДанных = Истина;
КонецПроцедуры
```

### Отбор загружаемых тестов

Создайте модуль в подсистеме `Тесты_ЮТПодключаемыеМодули -> ЗагрузкаТестов`:

```bsl title="ЗагрузкаТестов"
Процедура ФильтрацияТестов_ПроверкаМодуля(МетаданныеМодуля, Отказ) Экспорт
    
    Если МетаданныеМодуля.Расширение <> "tests" Тогда
        Отказ = Истина;
    КонецЕсли;
    
КонецПроцедуры
```

## Рекомендации по кастомизации

1. Создавайте отдельные подсистемы для кастомизации, не модифицируйте подсистемы движка
2. Документируйте свои кастомизации для облегчения поддержки
